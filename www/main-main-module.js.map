{"version":3,"sources":["webpack:///./src/app/main/main.module.ts","webpack:///./src/app/main/main.page.html","webpack:///./src/app/main/main.page.scss","webpack:///./src/app/main/main.page.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAAyC;AACM;AACF;AACU;AAEV;AAEN;AAEvC,IAAM,MAAM,GAAW;IACrB;QACE,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,mDAAQ;KACpB;CACF,CAAC;AAWF;IAAA;IAA6B,CAAC;IAAjB,cAAc;QAT1B,8DAAQ,CAAC;YACR,OAAO,EAAE;gBACP,4DAAY;gBACZ,0DAAW;gBACX,0DAAW;gBACX,4DAAY,CAAC,QAAQ,CAAC,MAAM,CAAC;aAC9B;YACD,YAAY,EAAE,CAAC,mDAAQ,CAAC;SACzB,CAAC;OACW,cAAc,CAAG;IAAD,qBAAC;CAAA;AAAH;;;;;;;;;;;;ACzB3B,8jBAA8jB,gCAAgC,+R;;;;;;;;;;;ACA9lB,+DAA+D,mI;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAb;AACG;AAEZ;AACsB;AAO/D;IAWE,kBACU,GAAoB,EACpB,MAAc,EACf,QAAyB;QAFxB,QAAG,GAAH,GAAG,CAAiB;QACpB,WAAM,GAAN,MAAM,CAAQ;QACf,aAAQ,GAAR,QAAQ,CAAiB;IAC/B,CAAC;IAEJ,+CAA+C;IAC/C,sBAAsB;IACtB,8CAA8C;IAC9C,oDAAoD;IAEpD,mCAAmC;IACnC,uFAAuF;IACvF,2CAA2C;IAC3C,oFAAoF;IACpF,4DAA4D;IAC5D,wDAAwD;IAExD,8CAA8C;IAC9C,qDAAqD;IACrD,6EAA6E;IAC7E,+DAA+D;IAC/D,8BAA8B;IAC9B,wCAAwC;IAExC,kCAAkC;IAClC,iFAAiF;IACjF,sEAAsE;IACtE,oDAAoD;IACpD,0BAA0B;IAC1B,sEAAsE;IACtE,MAAM;IACN,IAAI;IAEJ,iBAAiB;IACjB,qDAAqD;IACrD,0BAA0B;IAC1B,wCAAwC;IACxC,IAAI;IAEJ,kDAAkD;IAClD,oBAAoB;IACpB,kEAAkE;IAClE,qEAAqE;IACrE,oDAAoD;IACpD,8BAA8B;IAC9B,+EAA+E;IAC/E,uEAAuE;IACvE,MAAM;IACN,IAAI;IAEJ,2BAAQ,GAAR;QACE,IAAI,CAAC,MAAM,EAAE,CAAC;IAChB,CAAC;IAED,yBAAM,GAAN;QAAA,iBAgBC;QAfC,IAAI,CAAC,GAAG,CAAC,SAAS,CAAC,SAAS,CAC1B,cAAI;YACF,IAAI,IAAI,EAAE;gBACR,OAAO,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;gBACrB,KAAI,CAAC,EAAE,GAAG,IAAI,CAAC,GAAG,CAAC;gBACnB,OAAO,CAAC,GAAG,CAAC,KAAI,CAAC,EAAE,CAAC,CAAC;gBACrB,KAAI,CAAC,UAAU,CAAC,KAAI,CAAC,EAAE,CAAC,CAAC;aAC1B;iBAAM;gBACL,KAAI,CAAC,MAAM,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;aACrC;QACH,CAAC,EACD;YACE,uCAAuC;QACzC,CAAC,CACF,CAAC;IACJ,CAAC;IAEK,0BAAO,GAAb;;;;;4BACc,qBAAM,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,EAAE;;wBAAnC,GAAG,GAAG,SAA6B;wBACzC,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;wBACjB,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;;;;;KACrC;IAEK,6BAAU,GAAhB,UAAiB,EAAE;;;;;4BACjB,qBAAM,IAAI,CAAC,QAAQ,CAAC,UAAU,CAAC,EAAE,CAAC,CAAC,SAAS,CAAC,UAAC,IAAS;4BACrD,IAAI,IAAI,CAAC,MAAM,KAAK,CAAC,EAAE;gCACrB,OAAO,CAAC,GAAG,CAAC,eAAe,CAAC,CAAC;gCAC7B,KAAI,CAAC,MAAM,CAAC,aAAa,CAAC,cAAc,CAAC,CAAC;6BAC3C;iCAAM;gCACL,OAAO,CAAC,GAAG,CAAC,mBAAmB,CAAC,CAAC;gCACjC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;gCAClB,KAAI,CAAC,IAAI,GAAG,IAAI,CAAC;6BAClB;wBACH,CAAC,CAAC;;wBATF,SASE,CAAC;;;;;KACJ;IAED,0BAAO,GAAP;QACE,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,SAAS,CAAC,CAAC;IACvC,CAAC;IAzGU,QAAQ;QALpB,+DAAS,CAAC;YACT,QAAQ,EAAE,UAAU;YACpB,sFAA+B;;SAEhC,CAAC;yCAae,kEAAe;YACZ,sDAAM;YACL,0EAAe;OAdvB,QAAQ,CA0GpB;IAAD,eAAC;CAAA;AA1GoB","file":"main-main-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { MainPage } from './main.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: MainPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [MainPage]\n})\nexport class MainPageModule {}\n","module.exports = \"<ion-header no-border>\\n  <ion-toolbar no-border>\\n    <ion-title>\\n      Ionic 4 Firestart\\n    </ion-title>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-button [routerLink]=\\\"['/profile']\\\">\\n        <ion-icon color=\\\"primary\\\" slot=\\\"icon-only\\\" name=\\\"contact\\\"></ion-icon>\\n      </ion-button>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content padding>\\n  <div class=\\\"form\\\">\\n    <ion-card color=\\\"\\\" mode=\\\"ios\\\">\\n      <ion-card-content *ngFor=\\\"let item of item\\\">\\n        <h1 class=\\\"goodfont\\\">\\n          Â¡Welcome back {{ item.payload.doc.data().name }}!\\n        </h1>\\n        <ion-button class=\\\"btn\\\">Click to Open camera</ion-button>\\n      </ion-card-content>\\n    </ion-card>\\n    <br />\\n    <br />\\n    <div id=\\\"webcam-container\\\"></div>\\n    <div id=\\\"label-container\\\"></div>\\n  </div>\\n\\n  <!-- Animation -->\\n</ion-content>\\n\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21haW4vbWFpbi5wYWdlLnNjc3MifQ== */\"","import { Component, OnInit } from \"@angular/core\";\nimport { AngularFireAuth } from \"@angular/fire/auth\";\nimport { auth } from \"firebase/app\";\nimport { Router } from \"@angular/router\";\nimport { ServicesService } from \"../services/services.service\";\n\n@Component({\n  selector: \"app-main\",\n  templateUrl: \"./main.page.html\",\n  styleUrls: [\"./main.page.scss\"]\n})\nexport class MainPage implements OnInit {\n  item: any;\n  id: string;\n\n  model: any;\n  webcam: any;\n  labelContainer: any;\n  maxPredictions: any;\n\n  URL: \"../assets/models\";\n\n  constructor(\n    private aut: AngularFireAuth,\n    private router: Router,\n    public services: ServicesService\n  ) {}\n\n  // // Load the image model and setup the webcam\n  // async initModel() {\n  //   const modelURL = this.URL + \"model.json\";\n  //   const metadataURL = this.URL + \"metadata.json\";\n\n  //   // load the model and metadata\n  //   // Refer to tmImage.loadFromFiles() in the API to support files from a file picker\n  //   // or files from your local hard drive\n  //   // Note: the pose library adds \"tmImage\" object to your window (window.tmImage)\n  //   this.model = await tmImage.load(modelURL, metadataURL);\n  //   this.maxPredictions = this.model.getTotalClasses();\n\n  //   // Convenience function to setup a webcam\n  //   const flip = true; // whether to flip the webcam\n  //   this.webcam = new tmImage.Webcam(200, 200, flip); // width, height, flip\n  //   await this.webcam.setup(); // request access to the webcam\n  //   await this.webcam.play();\n  //   window.requestAnimationFrame(loop);\n\n  //   // append elements to the DOM\n  //   document.getElementById(\"webcam-container\").appendChild(this.webcam.canvas);\n  //   this.labelContainer = document.getElementById(\"label-container\");\n  //   for (let i = 0; i < this.maxPredictions; i++) {\n  //     // and class labels\n  //     this.labelContainer.appendChild(document.createElement(\"div\"));\n  //   }\n  // }\n\n  // async loop() {\n  //   this.webcam.update(); // update the webcam frame\n  //   await this.predict();\n  //   window.requestAnimationFrame(loop);\n  // }\n\n  // // run the webcam image through the image model\n  // async predict() {\n  //   // predict can take in an image, video or canvas html element\n  //   const prediction = await this.model.predict(this.webcam.canvas);\n  //   for (let i = 0; i < this.maxPredictions; i++) {\n  //     const classPrediction =\n  //       prediction[i].className + \": \" + prediction[i].probability.toFixed(2);\n  //       this.labelContainer.childNodes[i].innerHTML = classPrediction;\n  //   }\n  // }\n\n  ngOnInit() {\n    this.logued();\n  }\n\n  logued() {\n    this.aut.authState.subscribe(\n      user => {\n        if (user) {\n          console.log(\"loged\");\n          this.id = user.uid;\n          console.log(this.id);\n          this.getProfile(this.id);\n        } else {\n          this.router.navigateByUrl(\"/login\");\n        }\n      },\n      () => {\n        // this.router.navigateByUrl('/login');\n      }\n    );\n  }\n\n  async signOut() {\n    const res = await this.aut.auth.signOut();\n    console.log(res);\n    this.router.navigateByUrl(\"/login\");\n  }\n\n  async getProfile(id) {\n    await this.services.getProfile(id).subscribe((data: any) => {\n      if (data.length === 0) {\n        console.log(\"profile empty\");\n        this.router.navigateByUrl(`edit-profile`);\n      } else {\n        console.log(\"Profile not empty\");\n        console.log(data);\n        this.item = data;\n      }\n    });\n  }\n\n  profile() {\n    this.router.navigateByUrl(`profile`);\n  }\n}\n"],"sourceRoot":""}